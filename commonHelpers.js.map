{"version":3,"file":"commonHelpers.js","sources":["../src/main.js"],"sourcesContent":["import 'simplelightbox/dist/simple-lightbox.min.css';\nimport SimpleLightbox from 'simplelightbox/dist/simple-lightbox.esm';\nlet lightbox;\nconst apiKey = '41856148-e541297002e84807a45dae6d1';\nconst searchForm = document.getElementById('search-form');\nconst searchInput = document.getElementById('search-input');\nconst gallery = document.getElementById('gallery');\nsearchForm.addEventListener('submit', function (event) {\n  event.preventDefault();\n  const searchQuery = searchInput.value.trim();\n  fetchData(searchQuery, apiKey);\n});\ndocument.addEventListener('DOMContentLoaded', function () {\n    lightbox = new SimpleLightbox('.gallery a', {});\n  });\nfunction fetchData(searchQuery, apiKey) {\n  const url = `https://pixabay.com/api/?key=${apiKey}&q=${searchQuery}&image_type=photo&orientation=horizontal&safesearch=true`;\n  showLoadingIndicator();\n  fetch(url)\n    .then(response => {\n      if (!response.ok) {\n        throw new Error('Network response was not ok');\n      }\n      return response.json();\n    })\n    .then(data => {\n      hideLoadingIndicator();\n      clearGallery();\n      if (data.hits.length === 0) {\n        displayNoResultsMessage();\n        return;\n      }\n      displayImages(data.hits);\n    })\n    .catch(error => {\n      console.error('Error fetching data:', error);\n      hideLoadingIndicator();\n    });\n}\nfunction showLoadingIndicator() {\n  const loadingIndicator = document.createElement('div');\n  loadingIndicator.className = 'loading-indicator';\n  loadingIndicator.innerText = 'Loading...';\n  document.body.appendChild(loadingIndicator);\n}\nfunction hideLoadingIndicator() {\n  const loadingIndicator = document.querySelector('.loading-indicator');\n  if (loadingIndicator) {\n    loadingIndicator.remove();\n  }\n}\nfunction clearGallery() {\n  gallery.innerHTML = '';\n}\nfunction displayNoResultsMessage() {\n    const toastContainer = document.createElement('div');\n    toastContainer.className = 'toast-container';\n    const decorativeIcon = document.createElement('span');\n    decorativeIcon.className = 'decorative-icon';\n    decorativeIcon.innerHTML = '&#9737;';\n    const errorMessage = document.createElement('p');\n    errorMessage.innerText = 'Sorry, there are no images matching your search query. Please, try again!';\n    const closeButton = document.createElement('span');\n    closeButton.className = 'close-button';\n    closeButton.innerHTML = '&times;';\n    toastContainer.appendChild(decorativeIcon);\n    toastContainer.appendChild(errorMessage);\n    toastContainer.appendChild(closeButton);\n    document.body.appendChild(toastContainer);\n    closeButton.addEventListener('click', () => {\n      toastContainer.remove();\n    });\n  }\nfunction displayImages(images) {\n    const fragment = document.createDocumentFragment();\n    images.forEach(image => {\n      const linkElement = document.createElement('a');\n      linkElement.href = image.webformatURL;\n      const imgElement = document.createElement('img');\n      imgElement.src = image.webformatURL;\n      imgElement.alt = image.tags;\n      linkElement.style.width = 'calc((100% - 32px) / 3)';\n      linkElement.style.height = 'auto';\n      imgElement.style.width = '100%';\n      imgElement.style.height = '100%';\n      linkElement.style.marginBottom = '16px';\n      linkElement.style.display = 'block';\n      linkElement.appendChild(imgElement);\n      fragment.appendChild(linkElement);\n    });\n    gallery.appendChild(fragment);\n  }\ngallery.addEventListener('click', function (event) {\n  if (event.target.tagName === 'IMG' && lightbox) {\n    lightbox.open({ elements: [event.target] });\n  }\n});\nconst galleryImages = document.querySelectorAll('#gallery img');\ngalleryImages.forEach(image => {\n  image.style.width = 'calc((100% - 32px) / 3)';\n  image.style.height = 'auto';\n  image.style.marginBottom = '16px';\n});\nconst galleryLinks = document.querySelectorAll('#gallery a');\ngalleryLinks.forEach(link => {\n  link.style.width = 'calc((100% - 32px) / 3)';\n  link.style.height = 'auto';\n  link.style.marginBottom = '16px';\n});"],"names":["lightbox","apiKey","searchForm","searchInput","gallery","event","searchQuery","fetchData","SimpleLightbox","url","showLoadingIndicator","response","data","hideLoadingIndicator","clearGallery","displayNoResultsMessage","displayImages","error","loadingIndicator","toastContainer","decorativeIcon","errorMessage","closeButton","images","fragment","image","linkElement","imgElement","galleryImages","galleryLinks","link"],"mappings":"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"}