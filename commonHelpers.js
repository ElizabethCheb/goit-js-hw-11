import{S as m,i as d}from"./assets/vendor-2e9aefb5.js";(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))i(e);new MutationObserver(e=>{for(const o of e)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&i(s)}).observe(document,{childList:!0,subtree:!0});function r(e){const o={};return e.integrity&&(o.integrity=e.integrity),e.referrerpolicy&&(o.referrerPolicy=e.referrerpolicy),e.crossorigin==="use-credentials"?o.credentials="include":e.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(e){if(e.ep)return;e.ep=!0;const o=r(e);fetch(e.href,o)}})();let a;const g="41856148-e541297002e84807a45dae6d1",u=document.getElementById("search-form"),f=document.getElementById("search-input"),c=document.getElementById("gallery");let h=document.getElementById("error-message");a=new m(".gallery a",{captionsData:"alt",captionDelay:250,widthRatio:.9,heightRatio:.9,scaleImageToRatio:!0});document.addEventListener("keydown",p);u.addEventListener("submit",function(t){t.preventDefault();const n=f.value.trim();y(n,g)});function p(t){t.key==="Escape"&&a&&a.visible&&a.close()}async function y(t,n){const r=new URL("https://pixabay.com/api/"),i={key:n,q:t,image_type:"photo",orientation:"horizontal",safesearch:!0};r.search=new URLSearchParams(i).toString(),I();try{const e=await fetch(r);if(!e.ok)throw new Error("Network response was not ok");const o=await e.json();l(),L(),o.hits.length===0?w():(x(o.hits),R())}catch(e){console.error("Error fetching data:",e),l(),b("An error occurred while fetching data. Please try again.")}}function I(){const t=E();document.body.appendChild(t)}function E(){const t=document.createElement("div");return t.className="loading-indicator",t.innerText="Loading...",t}function l(){const t=document.querySelector(".loading-indicator");t&&t.remove()}function L(){c.innerHTML=""}function w(){d.error({title:"",message:"Sorry, there are no images matching your search query. Please, try again!",position:"topRight",timeout:5e3})}function b(t){d.error({title:"Error",message:t,position:"topRight",timeout:5e3}),h.textContent=t}function x(t){const n=document.createDocumentFragment();t.forEach(r=>{const i=document.createElement("a");i.href=r.largeImageURL,i.classList.add("gallery-link");const e=document.createElement("img");e.src=r.webformatURL,e.alt=r.tags,e.style.width="100%",i.appendChild(e),n.appendChild(i)}),c.appendChild(n)}function R(){a.refresh()}c.addEventListener("click",function(t){if(t.target.tagName==="IMG"&&a){const n=document.querySelectorAll(".gallery img"),r=Array.from(n).indexOf(t.target),i=n[r].parentNode.href;a.open([{src:i,title:n[r].alt}]),a.on("show.simplelightbox",function(){a.element().find(".sl-image img").css({width:"100%","max-width":"none","max-height":"none"})})}});
//# sourceMappingURL=commonHelpers.js.map
